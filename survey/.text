import React, { useState } from 'react';
import { BookOpen, Check, Info, BarChart2, ArrowRight, X, Home } from 'lucide-react';

// ============================================
// DATA FILE - data.js
// ============================================
const moduleCategories = {
    'Category 1': {
        major: 'Drilling & Blasting Technology',
        subModules: [
            'Rock Mechanics & Geology for Drilling & Blasting',
            'Drilling Technology & Equipment',
            'Explosives Science & Technology',
            'Blast Design & Engineering',
            'Blasting Operations & Safety Management',
            'Blast Monitoring, Analysis & Optimization',
            'Environmental Management & Specialized Applications'
        ]
    },
    'Category 2': {
        major: 'Mine Excavation & Materials Transportation',
        subModules: [
            'Mine Production Systems & Planning',
            'Excavation Equipment & Operations',
            'Loading Systems & Material Handling',
            'Hauling & Transportation Systems',
            'Equipment Maintenance & Reliability',
            'Safety Management & Operational Controls',
            'Performance Monitoring & Continuous Improvement'
        ]
    },
    'Category 3': {
        major: 'Excel & Power BI',
        subModules: [
            'Excel Basics & Data Entry Mastery',
            'Data Organisation & Basic Analysis',
            'PivotTables & Advanced Reporting',
            'Advanced Functions & Data Manipulation',
            'Power BI Basics & Data Connection',
            'Visualization & Report Design',
            'Advanced Analytics & AI Integration',
            'Advanced DAX & Data Modelling'
        ]
    },
    'Category 4': {
        major: 'Mine Planning & Design Technology',
        subModules: [
            'Exploration Drillhole Data Interpretation & Block Modelling',
            'Strategic Mine Planning & Optimization',
            'Open Pit Mine & Waste Dump Design',
            'Surface Mine Production Scheduling',
            'Advanced Drill & Blast Design',
            'Underground Mine Design for Mine Planners',
            'Equipment Productivity & Haulage Modelling',
            '3D Discrete Event Simulation of Haulage Networks'
        ]
    },
    'Category 5': {
        major: 'Occupational Health, Safety & Environment',
        subModules: [
            'Principles of Occupational Health & Safety',
            'Hazard Identification, Risk Assessment & Control',
            'Legal & Regulatory Compliance in OHSE',
            'Accident Investigation & Root Cause Analysis',
            'Fatigue Risk Management & Human Factors in OHSE',
            'Mine Rescue Operations & Emergency Response',
            'Workplace Safety & Emergency Preparedness',
            'Environmental Management Systems & ISO 14001',
            'Industrial Hygiene & Toxicology',
            'Mine Environmental Protection & Sustainability',
            'Safety Audits & Inspections',
            'Construction Safety & Site Management'
        ]
    },
    'Category 6': {
        major: 'Data Science & Business Analytics',
        subModules: [
            'Python Programming for Data Science',
            'Statistical Analysis & Hypothesis Testing',
            'Data Visualization & Business Intelligence',
            'Machine Learning & Predictive Analytics',
            'Big Data Analytics & AI Implementation',
            'Data Strategy & Organizational Transformation',
            'Capstone Project & Professional Portfolio'
        ]
    },
    'Category 7': {
        major: 'Creative Media and Digital Design',
        subModules: [
            'Visual Design Foundations & Digital Image',
            'Vector Graphics & Brand Design Systems',
            'Professional Video Editing & Content Creation',
            '3D Modelling & Animation Fundamentals',
            'Advanced 3D & Cinema Production',
            'UI/UX & Interactive Media',
            '2D Animation & Motion Graphics',
            'Audio Production & Podcast Creation'
        ]
    }
};

const softwareOptions = [
    'Ball Mill Simulation Software',
    'Datamine',
    'Deswik',
    'Leapfrog',
    'Surpac',
    'ArcGIS',
    'Matlab',
    'Ansys',
    'Solidworks',
    'Autocad'
];

// ============================================
// COMPONENTS FOLDER
// ============================================

// components/Header.js

// components/InfoAlert.js
const InfoAlert = () => {
    return (
        <div className="flex items-start gap-3 p-4 bg-blue-50 rounded-2xl border border-blue-100">
            <Info className="text-blue-600 flex-shrink-0 mt-0.5" size={20} />
            <div className="text-sm">
                <p className="text-gray-900 font-medium mb-1">Two sections in this survey</p>
                <p className="text-gray-600 mb-1">Section 1: Choose modules aligned with your interests</p>
                <p className="text-gray-600">Section 2: Select engineering software to learn</p>
                <p className="text-xs text-gray-500 mt-3">ðŸ“ž Need help? 0257011510 / 0596125696</p>
            </div>
        </div>
    );
};

// components/ProgressBar.js
const ProgressBar = ({ current, total }) => {
    return (
        <div className="text-right">
            <p className={`text-2xl font-bold ${current === total ? 'text-green-600' : 'text-black'}`}>
                {current}/{total}
            </p>
        </div>
    );
};

// ============================================
// PAGES FOLDER
// ============================================

// pages/HomePage.js
const HomePage = ({ onNavigate }) => {
    return (
        <div className="px-4 py-12">
            <div className="text-center mb-12">
                <div className="w-20 h-20 bg-black rounded-full flex items-center justify-center mx-auto mb-6">
                    <BookOpen className="text-white" size={40} />
                </div>
                <h1 className="text-4xl font-bold mb-3">MMESA Survey</h1>
                <p className="text-xl text-gray-600 mb-2">Short Course Interest Survey</p>
                <p className="text-gray-500">Phase 2 â€¢ Module Selection</p>
            </div>

            <div className="max-w-md mx-auto space-y-4">
                <button
                    onClick={() => onNavigate('student-info')}
                    className="w-full flex items-center justify-center gap-2 bg-black text-white px-8 py-5 rounded-full font-bold text-lg hover:bg-gray-800 transition"
                >
                    Start Survey
                    <ArrowRight size={24} />
                </button>

                <div className="text-center">
                    <p className="text-sm text-gray-500">Takes about 5 minutes</p>
                </div>
            </div>
        </div>
    );
};

// pages/StudentInfoPage.js
const StudentInfoPage = ({ studentInfo, setStudentInfo, onNavigate }) => {
    const handleContinue = () => {
        if (!studentInfo.email || !studentInfo.indexNumber || !studentInfo.year || !studentInfo.phoneNumber) {
            alert('Please fill in all fields');
            return;
        }
        onNavigate('option-selection');
    };

    return (
        <div className="px-4 py-6">
            <div className="mb-6">
                <h1 className="text-3xl font-bold mb-2">Student Information</h1>
                <p className="text-gray-600">Let's start with your details</p>
            </div>

            <InfoAlert />

            <div className="mt-8 space-y-5">
                <div>
                    <label className="block text-sm font-semibold mb-2">Email</label>
                    <input
                        type="email"
                        value={studentInfo.email}
                        onChange={(e) => setStudentInfo({ ...studentInfo, email: e.target.value })}
                        className="w-full px-4 py-3 bg-white border border-gray-300 rounded-xl focus:border-black focus:ring-1 focus:ring-black outline-none transition text-lg"
                        placeholder="you@example.com"
                    />
                </div>
                <div>
                    <label className="block text-sm font-semibold mb-2">Index Number</label>
                    <input
                        type="text"
                        value={studentInfo.indexNumber}
                        onChange={(e) => setStudentInfo({ ...studentInfo, indexNumber: e.target.value })}
                        className="w-full px-4 py-3 bg-white border border-gray-300 rounded-xl focus:border-black focus:ring-1 focus:ring-black outline-none transition text-lg"
                        placeholder="Your index number"
                    />
                </div>
                <div className="grid grid-cols-2 gap-4">
                    <div>
                        <label className="block text-sm font-semibold mb-2">Year</label>
                        <select
                            value={studentInfo.year}
                            onChange={(e) => setStudentInfo({ ...studentInfo, year: e.target.value })}
                            className="w-full px-4 py-3 bg-white border border-gray-300 rounded-xl focus:border-black focus:ring-1 focus:ring-black outline-none transition text-lg"
                        >
                            <option value="">Select</option>
                            <option value="Year 2">Year 2</option>
                            <option value="Year 3">Year 3</option>
                            <option value="Year 4">Year 4</option>
                        </select>
                    </div>
                    <div>
                        <label className="block text-sm font-semibold mb-2">Phone</label>
                        <input
                            type="tel"
                            value={studentInfo.phoneNumber}
                            onChange={(e) => setStudentInfo({ ...studentInfo, phoneNumber: e.target.value })}
                            className="w-full px-4 py-3 bg-white border border-gray-300 rounded-xl focus:border-black focus:ring-1 focus:ring-black outline-none transition text-lg"
                            placeholder="024XXXXXXX"
                        />
                    </div>
                </div>
            </div>

            <button
                onClick={handleContinue}
                className="w-full mt-8 flex items-center justify-center gap-2 bg-black text-white px-6 py-4 rounded-full font-bold text-lg hover:bg-gray-800 transition"
            >
                Continue
                <ArrowRight size={20} />
            </button>
        </div>
    );
};

// pages/OptionSelectionPage.js
const OptionSelectionPage = ({ selectedOption, setSelectedOption, onNavigate }) => {
    const options = [
        { value: 'Option 1', title: 'Option 1', desc: '2 Major Modules Only' },
        { value: 'Option 2', title: 'Option 2', desc: '1 Major + 2 Sub-Modules' },
        { value: 'Option 3', title: 'Option 3', desc: '4 Sub-Modules Only' }
    ];

    const handleContinue = () => {
        if (!selectedOption) {
            alert('Please select one option');
            return;
        }
        onNavigate('module-selection');
    };

    return (
        <div className="px-4 py-6">
            <div className="mb-6">
                <h2 className="text-2xl font-bold mb-2">Choose your path</h2>
                <p className="text-gray-600">Select one option to structure your course selection</p>
            </div>

            <div className="space-y-3 mb-6">
                {options.map(option => (
                    <button
                        key={option.value}
                        onClick={() => setSelectedOption(option.value)}
                        className={`w-full p-5 text-left border-2 rounded-2xl transition ${selectedOption === option.value
                            ? 'border-black bg-gray-50'
                            : 'border-gray-200 hover:border-gray-400'
                            }`}
                    >
                        <div className="flex items-center justify-between">
                            <div>
                                <p className="font-bold text-lg mb-0.5">{option.title}</p>
                                <p className="text-gray-600 text-sm">{option.desc}</p>
                            </div>
                            <div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${selectedOption === option.value
                                ? 'border-black bg-black'
                                : 'border-gray-300'
                                }`}>
                                {selectedOption === option.value && (
                                    <Check className="text-white" size={16} />
                                )}
                            </div>
                        </div>
                    </button>
                ))}
            </div>

            <div className="flex gap-3">
                <button
                    onClick={() => onNavigate('student-info')}
                    className="flex-1 px-6 py-4 border-2 border-gray-300 rounded-full font-bold hover:bg-gray-50 transition"
                >
                    Back
                </button>
                <button
                    onClick={handleContinue}
                    className="flex-1 flex items-center justify-center gap-2 bg-black text-white px-6 py-4 rounded-full font-bold hover:bg-gray-800 transition"
                >
                    Next
                    <ArrowRight size={20} />
                </button>
            </div>
        </div>
    );
};

// pages/ModuleSelectionPage.js
const ModuleSelectionPage = ({ selectedOption, selectedModules, setSelectedModules, onNavigate, getOptionRules, countSelections }) => {
    const rules = getOptionRules();
    const counts = countSelections();

    const handleModuleToggle = (module, isMajor) => {
        if (selectedModules.includes(module)) {
            setSelectedModules(selectedModules.filter(m => m !== module));
        } else {
            if (isMajor && counts.majorCount >= rules.majors) {
                alert(`You can only select ${rules.majors} major module(s)`);
                return;
            }
            if (!isMajor && counts.subModuleCount >= rules.subModules) {
                alert(`You can only select ${rules.subModules} sub-module(s)`);
                return;
            }
            setSelectedModules([...selectedModules, module]);
        }
    };

    return (
        <div>
            <div className="sticky top-14 bg-white/95 backdrop-blur-md border-b border-gray-200 px-4 py-4 z-40">
                <div className="flex items-center justify-between">
                    <div>
                        <p className="font-bold">{rules.description}</p>
                        <p className="text-sm text-gray-600">
                            {counts.majorCount} major Â· {counts.subModuleCount} sub
                        </p>
                    </div>
                    <ProgressBar current={counts.total} total={rules.total} />
                </div>
            </div>

            <div className="px-4 py-4 space-y-4">
                {Object.entries(moduleCategories).map(([catName, category]) => (
                    <div key={catName}>
                        <h3 className="font-bold text-lg mb-3 px-2">{catName}</h3>
                        <div className="space-y-2">
                            {rules.majors > 0 && (
                                <button
                                    onClick={() => handleModuleToggle(category.major, true)}
                                    className={`w-full p-4 text-left border-2 rounded-2xl transition ${selectedModules.includes(category.major)
                                        ? 'border-black bg-black text-white'
                                        : 'border-gray-200 hover:border-gray-400'
                                        }`}
                                >
                                    <div className="flex items-start justify-between gap-3">
                                        <div className="flex-1">
                                            <p className="font-semibold leading-snug">{category.major}</p>
                                            <span className={`inline-block mt-2 px-2 py-0.5 text-xs font-bold rounded-full ${selectedModules.includes(category.major)
                                                ? 'bg-white/20 text-white'
                                                : 'bg-yellow-100 text-yellow-800'
                                                }`}>
                                                MAJOR
                                            </span>
                                        </div>
                                        <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${selectedModules.includes(category.major)
                                            ? 'border-white bg-white'
                                            : 'border-gray-300'
                                            }`}>
                                            {selectedModules.includes(category.major) && (
                                                <Check className="text-black" size={14} />
                                            )}
                                        </div>
                                    </div>
                                </button>
                            )}

                            {category.subModules.map(subModule => (
                                <button
                                    key={subModule}
                                    onClick={() => handleModuleToggle(subModule, false)}
                                    className={`w-full p-4 text-left border-2 rounded-2xl transition ${selectedModules.includes(subModule)
                                        ? 'border-black bg-gray-50'
                                        : 'border-gray-200 hover:border-gray-400'
                                        }`}
                                >
                                    <div className="flex items-start justify-between gap-3">
                                        <p className="flex-1 leading-snug">{subModule}</p>
                                        <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${selectedModules.includes(subModule)
                                            ? 'border-black bg-black'
                                            : 'border-gray-300'
                                            }`}>
                                            {selectedModules.includes(subModule) && (
                                                <Check className="text-white" size={14} />
                                            )}
                                        </div>
                                    </div>
                                </button>
                            ))}
                        </div>
                    </div>
                ))}
            </div>

            <div className="sticky bottom-0 bg-white border-t border-gray-200 px-4 py-4 flex gap-3">
                <button
                    onClick={() => onNavigate('option-selection')}
                    className="flex-1 px-6 py-4 border-2 border-gray-300 rounded-full font-bold hover:bg-gray-50 transition"
                >
                    Back
                </button>
                <button
                    onClick={() => onNavigate('software-selection')}
                    className="flex-1 flex items-center justify-center gap-2 bg-black text-white px-6 py-4 rounded-full font-bold hover:bg-gray-800 transition"
                >
                    Next
                    <ArrowRight size={20} />
                </button>
            </div>
        </div>
    );
};

// pages/SoftwareSelectionPage.js
const SoftwareSelectionPage = ({
    selectedSoftware,
    setSelectedSoftware,
    additionalCourse,
    setAdditionalCourse,
    onNavigate,
    getOptionRules,
    countSelections,
    handleSubmit
}) => {
    const rules = getOptionRules();
    const counts = countSelections();

    const handleSoftwareToggle = (software) => {
        if (selectedSoftware.includes(software)) {
            setSelectedSoftware(selectedSoftware.filter(s => s !== software));
        } else {
            if (counts.total >= rules.total) {
                alert(`Total selections cannot exceed ${rules.total}`);
                return;
            }
            setSelectedSoftware([...selectedSoftware, software]);
        }
    };

    return (
        <div>
            <div className="px-4 py-6 border-b border-gray-200">
                <h2 className="text-2xl font-bold mb-2">Engineering Software</h2>
                <p className="text-gray-600">Software selections count toward your total</p>
                <div className="mt-4 p-3 bg-gray-50 rounded-xl">
                    <p className="text-sm">
                        <span className="font-semibold">Current:</span> {counts.majorCount} major + {counts.subModuleCount} sub + {counts.softwareCount} software = <span className="font-bold">{counts.total}/{rules.total}</span>
                    </p>
                </div>
            </div>

            <div className="px-4 py-4">
                <div className="grid grid-cols-2 gap-2 mb-6">
                    {softwareOptions.map(software => (
                        <button
                            key={software}
                            onClick={() => handleSoftwareToggle(software)}
                            className={`p-4 text-left border-2 rounded-2xl transition ${selectedSoftware.includes(software)
                                ? 'border-black bg-gray-50'
                                : 'border-gray-200 hover:border-gray-400'
                                }`}
                        >
                            <div className="flex items-center gap-2">
                                <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${selectedSoftware.includes(software)
                                    ? 'border-black bg-black'
                                    : 'border-gray-300'
                                    }`}>
                                    {selectedSoftware.includes(software) && (
                                        <Check className="text-white" size={14} />
                                    )}
                                </div>
                                <span className="text-sm font-medium">{software}</span>
                            </div>
                        </button>
                    ))}
                </div>

                <div className="mb-6">
                    <label className="block text-sm font-semibold mb-2">
                        Suggest another course <span className="text-gray-500 font-normal">(optional)</span>
                    </label>
                    <textarea
                        value={additionalCourse}
                        onChange={(e) => setAdditionalCourse(e.target.value)}
                        className="w-full px-4 py-3 border border-gray-300 rounded-xl focus:border-black focus:ring-1 focus:ring-black outline-none transition resize-none"
                        rows="3"
                        placeholder="Any other course you'd like to see..."
                    />
                </div>
            </div>

            <div className="sticky bottom-0 bg-white border-t border-gray-200 px-4 py-4 flex gap-3">
                <button
                    onClick={() => onNavigate('module-selection')}
                    className="flex-1 px-6 py-4 border-2 border-gray-300 rounded-full font-bold hover:bg-gray-50 transition"
                >
                    Back
                </button>
                <button
                    onClick={handleSubmit}
                    className="flex-1 bg-black text-white px-6 py-4 rounded-full font-bold hover:bg-gray-800 transition"
                >
                    Submit
                </button>
            </div>
        </div>
    );
};

// pages/SuccessPage.js
const SuccessPage = ({ onNavigate }) => {
    return (
        <div className="px-4 py-16 text-center">
            <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <Check className="text-green-600" size={32} />
            </div>
            <h2 className="text-3xl font-bold mb-2">All set!</h2>
            <p className="text-gray-600 text-lg mb-8">
                Your survey has been submitted successfully
            </p>
            <button
                onClick={() => onNavigate('home')}
                className="px-8 py-3 border-2 border-gray-300 rounded-full font-bold hover:bg-gray-50 transition"
            >
                Back to Home
            </button>
        </div>
    );
};

// pages/ResultsPage.js
const ResultsPage = ({ allResponses }) => {
    return (
        <div className="px-4 py-6">
            <h2 className="text-2xl font-bold mb-6">Survey Results</h2>

            {allResponses.length === 0 ? (
                <div className="text-center py-12">
                    <p className="text-gray-500">No responses yet</p>
                </div>
            ) : (
                <div className="space-y-6">
                    <div className="grid grid-cols-4 gap-3">
                        {[
                            { label: 'Total', value: allResponses.length },
                            { label: 'Option 1', value: allResponses.filter(r => r.selectedOption === 'Option 1').length },
                            { label: 'Option 2', value: allResponses.filter(r => r.selectedOption === 'Option 2').length },
                            { label: 'Option 3', value: allResponses.filter(r => r.selectedOption === 'Option 3').length }
                        ].map(stat => (
                            <div key={stat.label} className="text-center p-4 bg-gray-50 rounded-2xl">
                                <p className="text-3xl font-bold">{stat.value}</p>
                                <p className="text-sm text-gray-600 mt-1">{stat.label}</p>
                            </div>
                        ))}
                    </div>

                    <div className="space-y-3">
                        {allResponses.map((response) => (
                            <div key={response.id} className="p-5 border border-gray-200 rounded-2xl">
                                <div className="flex items-start justify-between mb-3">
                                    <div>
                                        <p className="font-bold">{response.studentInfo.indexNumber}</p>
                                        <p className="text-sm text-gray-600">{response.studentInfo.year}</p>
                                    </div>
                                    <span className="px-3 py-1 bg-gray-100 text-sm font-medium rounded-full">
                                        {response.selectedOption}
                                    </span>
                                </div>

                                {response.selectedModules.length > 0 && (
                                    <div className="mb-3">
                                        <p className="text-sm font-semibold mb-2">Modules</p>
                                        <div className="flex flex-wrap gap-1">
                                            {response.selectedModules.map(module => (
                                                <span key={module} className="px-2 py-1 bg-gray-100 text-xs rounded-lg">
                                                    {module.length > 40 ? module.substring(0, 40) + '...' : module}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                )}

                                {response.selectedSoftware.length > 0 && (
                                    <div>
                                        <p className="text-sm font-semibold mb-2">Software</p>
                                        <div className="flex flex-wrap gap-1">
                                            {response.selectedSoftware.map(software => (
                                                <span key={software} className="px-2 py-1 bg-gray-100 text-xs rounded-lg">
                                                    {software}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                </div>
            )}
        </div>
    );
};

// ============================================
// MAIN APP - App.js
// ============================================
// const MMESASurveyApp = () => {
//     const [currentPage, setCurrentPage] = useState('home');
//     const [studentInfo, setStudentInfo] = useState({
//         email: '',
//         indexNumber: '',
//         year: '',
//         phoneNumber: ''
//     });
//     const [selectedOption, setSelectedOption] = useState('');
//     const [selectedModules, setSelectedModules] = useState([]);
//     const [selectedSoftware, setSelectedSoftware] = useState([]);
//     const [additionalCourse, setAdditionalCourse] = useState('');
//     const [allResponses, setAllResponses] = useState([]);
// 
//     const getOptionRules = () => {
//         switch (selectedOption) {
//             case 'Option 1':
//                 return { majors: 2, subModules: 0, total: 2, description: '2 Major Modules' };
//             case 'Option 2':
//                 return { majors: 1, subModules: 2, total: 3, description: '1 Major + 2 Sub-Modules' };
//             case 'Option 3':
//                 return { majors: 0, subModules: 4, total: 4, description: '4 Sub-Modules' };
//             default:
//                 return { majors: 0, subModules: 0, total: 0, description: '' };
//         }
//     };
// 
//     const countSelections = () => {
//         const majorCount = selectedModules.filter(m =>
//             Object.values(moduleCategories).some(cat => cat.major === m)
//         ).length;
//         const subModuleCount = selectedModules.filter(m =>
//             Object.values(moduleCategories).some(cat => cat.subModules.includes(m))
//         ).length;
//         const softwareCount = selectedSoftware.length;
// 
//         return { majorCount, subModuleCount, softwareCount, total: majorCount + subModuleCount + softwareCount };
//     };
// 
//     const handleSubmit = () => {
//         const rules = getOptionRules();
//         const counts = countSelections();
// 
//         if (counts.majorCount !== rules.majors) {
//             alert(`You must select exactly ${rules.majors} major module(s)`);
//             return;
//         }
//         if (counts.subModuleCount + counts.softwareCount !== rules.subModules) {
//             alert(`You must select exactly ${rules.subModules} sub-module(s)/software (combined)`);
//             return;
//         }
// 
//         const response = {
//             id: Date.now(),
//             timestamp: new Date().toLocaleString(),
//             studentInfo,
//             selectedOption,
//             selectedModules,
//             selectedSoftware,
//             additionalCourse
//         };
// 
//         setAllResponses([...allResponses, response]);
//         setCurrentPage('success');
//     };
// 
//     const resetSurvey = () => {
//         setStudentInfo({ email: '', indexNumber: '', year: '', phoneNumber: '' });
//         setSelectedOption('');
//         setSelectedModules([]);
//         setSelectedSoftware([]);
//         setAdditionalCourse('');
//     };
// 
//     const handleNavigate = (page) => {
//         setCurrentPage(page);
//         if (page === 'home') {
//             resetSurvey();
//         }
//         window.scrollTo(0, 0);
//     };
// 
//     return (
//         <div className="min-h-screen bg-white">
//             <Header
//                 currentPage={currentPage}
//                 onNavigate={handleNavigate}
//                 responsesCount={allResponses.length}
//             />
// 
//             <main className="max-w-2xl mx-auto">
//                 {currentPage === 'home' && (
//                     <HomePage onNavigate={handleNavigate} />
//                 )}
// 
//                 {currentPage === 'student-info' && (
//                     <StudentInfoPage
//                         studentInfo={studentInfo}
//                         setStudentInfo={setStudentInfo}
//                         onNavigate={handleNavigate}
//                     />
//                 )}
// 
//                 {currentPage === 'option-selection' && (
//                     <OptionSelectionPage
//                         selectedOption={selectedOption}
//                         setSelectedOption={setSelectedOption}
//                         onNavigate={handleNavigate}
//                     />
//                 )}
// 
//                 {currentPage === 'module-selection' && (
//                     <ModuleSelectionPage
//                         selectedOption={selectedOption}
//                         selectedModules={selectedModules}
//                         setSelectedModules={setSelectedModules}
//                         onNavigate={handleNavigate}
//                         getOptionRules={getOptionRules}
//                         countSelections={countSelections}
//                     />
//                 )}
// 
//                 {currentPage === 'software-selection' && (
//                     <SoftwareSelectionPage
//                         selectedSoftware={selectedSoftware}
//                         setSelectedSoftware={setSelectedSoftware}
//                         additionalCourse={additionalCourse}
//                         setAdditionalCourse={setAdditionalCourse}
//                         onNavigate={handleNavigate}
//                         getOptionRules={getOptionRules}
//                         countSelections={countSelections}
//                         handleSubmit={handleSubmit}
//                     />
//                 )}
// 
//                 {currentPage === 'success' && (
//                     <SuccessPage onNavigate={handleNavigate} />
//                 )}
// 
//                 {currentPage === 'results' && (
//                     <ResultsPage allResponses={allResponses} />
//                 )}
//             </main>
//         </div>
//     );
// };

export default MMESASurveyApp;